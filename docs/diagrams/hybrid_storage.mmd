# Hybrid Storage Architecture
# Copy this code to mermaid.live for export

graph TB
    subgraph "📱 App Layer"
        USER_ACTION[👤 User Action]
        UI_UPDATE[🎨 UI Update]
    end
    
    subgraph "🔄 Hybrid Storage Strategy"
        LOCAL_FIRST[💾 Local First]
        CLOUD_SYNC[☁️ Cloud Sync]
        OFFLINE_MODE[📴 Offline Mode]
    end
    
    subgraph "💾 Local Storage"
        IMMEDIATE[⚡ Immediate Response]
        SHARED_PREFS_LOCAL[🔧 SharedPreferences]
        HIVE_LOCAL[📦 Hive Database]
        SQLITE_LOCAL[🗃️ SQLite Cache]
    end
    
    subgraph "☁️ Cloud Storage"
        FIRESTORE_CLOUD[📄 Firestore Sync]
        FIREBASE_STORAGE_CLOUD[📁 Firebase Storage]
        BACKGROUND_SYNC[🔄 Background Sync]
    end
    
    USER_ACTION --> LOCAL_FIRST
    LOCAL_FIRST --> IMMEDIATE
    IMMEDIATE --> UI_UPDATE
    
    LOCAL_FIRST --> SHARED_PREFS_LOCAL
    LOCAL_FIRST --> HIVE_LOCAL
    LOCAL_FIRST --> SQLITE_LOCAL
    
    LOCAL_FIRST -.->|Background| CLOUD_SYNC
    CLOUD_SYNC --> FIRESTORE_CLOUD
    CLOUD_SYNC --> FIREBASE_STORAGE_CLOUD
    CLOUD_SYNC --> BACKGROUND_SYNC
    
    OFFLINE_MODE --> SHARED_PREFS_LOCAL
    OFFLINE_MODE --> HIVE_LOCAL
    OFFLINE_MODE --> SQLITE_LOCAL
    
    %% Styling
    classDef appClass fill:#D5E8D4,stroke:#82B366,stroke-width:2px
    classDef strategyClass fill:#FFF2CC,stroke:#D6B656,stroke-width:2px
    classDef localClass fill:#F8CECC,stroke:#B85450,stroke-width:2px
    classDef cloudClass fill:#DAE8FC,stroke:#6C8EBF,stroke-width:2px
    
    class USER_ACTION,UI_UPDATE appClass
    class LOCAL_FIRST,CLOUD_SYNC,OFFLINE_MODE strategyClass
    class IMMEDIATE,SHARED_PREFS_LOCAL,HIVE_LOCAL,SQLITE_LOCAL localClass
    class FIRESTORE_CLOUD,FIREBASE_STORAGE_CLOUD,BACKGROUND_SYNC cloudClass

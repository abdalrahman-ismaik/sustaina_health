# Data Flow Architecture Diagram
# Copy this code to mermaid.live for export

graph LR
    subgraph "ðŸ“± Mobile App Layer"
        UI[ðŸŽ¨ UI Components]
        PROVIDERS[ðŸ”§ Riverpod Providers]
        REPOS[ðŸ“š Repositories]
    end
    
    subgraph "ðŸ”„ Service Layer"
        LOCAL[ðŸ’¾ Local Storage]
        SYNC[ðŸ”„ Sync Service]
        API[ðŸŒ API Services]
    end
    
    subgraph "â˜ï¸ Cloud Infrastructure"
        subgraph "ðŸ¤– AI Backend"
            FASTAPI[âš¡ FastAPI]
            MCP[ðŸ§  MCP Server]
            AI_MODELS[ðŸ¤– AI Models]
        end
        
        subgraph "ðŸ“Š Firebase Platform"
            FIREBASE_AUTH[ðŸ” Auth]
            FIRESTORE[ðŸ“„ Firestore]
            STORAGE[ðŸ“ Storage]
        end
    end
    
    UI --> PROVIDERS
    PROVIDERS --> REPOS
    REPOS --> LOCAL
    REPOS --> API
    API --> FASTAPI
    API --> FIREBASE_AUTH
    
    FASTAPI --> MCP
    MCP --> AI_MODELS
    
    SYNC --> FIRESTORE
    SYNC --> STORAGE
    
    LOCAL -.->|Background Sync| SYNC
    
    %% Styling
    classDef appClass fill:#D5E8D4,stroke:#82B366,stroke-width:2px
    classDef serviceClass fill:#FFF2CC,stroke:#D6B656,stroke-width:2px
    classDef aiClass fill:#E1D5E7,stroke:#9673A6,stroke-width:2px
    classDef firebaseClass fill:#FFE6CC,stroke:#D79B00,stroke-width:2px
    
    class UI,PROVIDERS,REPOS appClass
    class LOCAL,SYNC,API serviceClass
    class FASTAPI,MCP,AI_MODELS aiClass
    class FIREBASE_AUTH,FIRESTORE,STORAGE firebaseClass

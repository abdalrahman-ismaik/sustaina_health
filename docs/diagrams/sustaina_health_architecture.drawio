<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2024-01-01T00:00:00.000Z" agent="5.0" etag="example" version="22.1.16">
  <diagram name="Sustaina Health Architecture" id="architecture">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Title -->
        <mxCell id="title" value="🏗️ Sustaina Health - Architecture Overview" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="20" width="400" height="40" as="geometry" />
        </mxCell>
        
        <!-- User Layer -->
        <mxCell id="user_layer" value="👤 User Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE6CC;strokeColor=#D79B00;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="100" width="120" height="60" as="geometry" />
        </mxCell>
        
        <!-- Flutter App Container -->
        <mxCell id="flutter_container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#D5E8D4;strokeColor=#82B366;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="220" y="80" width="380" height="380" as="geometry" />
        </mxCell>
        
        <mxCell id="flutter_title" value="📱 Sustaina Health Flutter App" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="320" y="90" width="180" height="30" as="geometry" />
        </mxCell>
        
        <!-- Core Features -->
        <mxCell id="core_features_label" value="🏠 Core Features" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="130" width="100" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="home_dashboard" value="🏠 Home Dashboard" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1D5E7;strokeColor=#9673A6;" vertex="1" parent="1">
          <mxGeometry x="240" y="150" width="100" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="mcp_chat" value="💬 MCP Command Chat" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1D5E7;strokeColor=#9673A6;" vertex="1" parent="1">
          <mxGeometry x="360" y="150" width="120" height="40" as="geometry" />
        </mxCell>
        
        <!-- Health Features -->
        <mxCell id="health_features_label" value="🎯 Health Features" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="210" width="100" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="auth" value="🔐 Authentication" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC;strokeColor=#D6B656;" vertex="1" parent="1">
          <mxGeometry x="240" y="230" width="80" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="exercise" value="💪 Exercise" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC;strokeColor=#D6B656;" vertex="1" parent="1">
          <mxGeometry x="330" y="230" width="70" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="nutrition" value="🍎 Nutrition" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC;strokeColor=#D6B656;" vertex="1" parent="1">
          <mxGeometry x="410" y="230" width="70" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="sleep" value="😴 Sleep" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC;strokeColor=#D6B656;" vertex="1" parent="1">
          <mxGeometry x="240" y="270" width="60" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="profile" value="👤 Profile" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC;strokeColor=#D6B656;" vertex="1" parent="1">
          <mxGeometry x="310" y="270" width="60" height="30" as="geometry" />
        </mxCell>
        
        <!-- App Infrastructure -->
        <mxCell id="infrastructure_label" value="⚙️ App Infrastructure" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="320" width="120" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="riverpod" value="🔧 Riverpod State" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F8CECC;strokeColor=#B85450;" vertex="1" parent="1">
          <mxGeometry x="240" y="340" width="90" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="gorouter" value="🧭 GoRouter" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F8CECC;strokeColor=#B85450;" vertex="1" parent="1">
          <mxGeometry x="340" y="340" width="70" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="storage" value="💾 Hybrid Storage" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F8CECC;strokeColor=#B85450;" vertex="1" parent="1">
          <mxGeometry x="420" y="340" width="90" height="30" as="geometry" />
        </mxCell>
        
        <!-- Backend Services Container -->
        <mxCell id="backend_container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DAE8FC;strokeColor=#6C8EBF;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="650" y="80" width="380" height="380" as="geometry" />
        </mxCell>
        
        <mxCell id="backend_title" value="☁️ Backend Services" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="90" width="180" height="30" as="geometry" />
        </mxCell>
        
        <!-- AI Services -->
        <mxCell id="ai_services_label" value="🤖 AI Services" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="670" y="130" width="80" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="fastapi" value="⚡ FastAPI Backend" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1D5E7;strokeColor=#9673A6;" vertex="1" parent="1">
          <mxGeometry x="670" y="150" width="100" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="mcp_server" value="🧠 MCP Server" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1D5E7;strokeColor=#9673A6;" vertex="1" parent="1">
          <mxGeometry x="780" y="150" width="90" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="ai_workout" value="💪 Workout AI" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1D5E7;strokeColor=#9673A6;" vertex="1" parent="1">
          <mxGeometry x="880" y="150" width="80" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="ai_nutrition" value="🍎 Nutrition AI" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1D5E7;strokeColor=#9673A6;" vertex="1" parent="1">
          <mxGeometry x="670" y="200" width="90" height="40" as="geometry" />
        </mxCell>
        
        <!-- Firebase Services -->
        <mxCell id="firebase_label" value="📊 Data & Storage" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="670" y="270" width="100" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="firebase_auth" value="🔐 Firebase Auth" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC;strokeColor=#D6B656;" vertex="1" parent="1">
          <mxGeometry x="670" y="290" width="100" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="firestore" value="📄 Cloud Firestore" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC;strokeColor=#D6B656;" vertex="1" parent="1">
          <mxGeometry x="780" y="290" width="100" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="firebase_storage" value="📁 Firebase Storage" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC;strokeColor=#D6B656;" vertex="1" parent="1">
          <mxGeometry x="670" y="340" width="110" height="40" as="geometry" />
        </mxCell>
        
        <!-- Main Connections -->
        <mxCell id="user_to_app" style="endArrow=classic;startArrow=classic;html=1;rounded=0;strokeWidth=3;strokeColor=#82B366;" edge="1" parent="1" source="user_layer" target="flutter_container">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="300" as="sourcePoint" />
            <mxPoint x="450" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="app_to_backend" style="endArrow=classic;startArrow=classic;html=1;rounded=0;strokeWidth=3;strokeColor=#6C8EBF;" edge="1" parent="1" source="flutter_container" target="backend_container">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="300" as="sourcePoint" />
            <mxPoint x="450" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Specific Feature Connections -->
        <mxCell id="chat_to_mcp" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#9673A6;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="mcp_chat" target="mcp_server">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="300" as="sourcePoint" />
            <mxPoint x="450" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="exercise_to_ai" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#D6B656;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="exercise" target="ai_workout">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="300" as="sourcePoint" />
            <mxPoint x="450" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="nutrition_to_ai" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#D6B656;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="nutrition" target="ai_nutrition">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="300" as="sourcePoint" />
            <mxPoint x="450" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="auth_to_firebase" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#D6B656;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="auth" target="firebase_auth">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="300" as="sourcePoint" />
            <mxPoint x="450" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="storage_to_firestore" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#B85450;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="storage" target="firestore">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="300" as="sourcePoint" />
            <mxPoint x="450" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Legend -->
        <mxCell id="legend_title" value="Legend" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="500" width="60" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_user" value="👤 User Interface" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE6CC;strokeColor=#D79B00;" vertex="1" parent="1">
          <mxGeometry x="50" y="530" width="100" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_core" value="🏠 Core Features" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1D5E7;strokeColor=#9673A6;" vertex="1" parent="1">
          <mxGeometry x="160" y="530" width="100" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_health" value="🎯 Health Features" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC;strokeColor=#D6B656;" vertex="1" parent="1">
          <mxGeometry x="270" y="530" width="110" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_infrastructure" value="⚙️ Infrastructure" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F8CECC;strokeColor=#B85450;" vertex="1" parent="1">
          <mxGeometry x="390" y="530" width="100" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_ai" value="🤖 AI Services" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1D5E7;strokeColor=#9673A6;" vertex="1" parent="1">
          <mxGeometry x="500" y="530" width="90" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_data" value="📊 Data Services" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC;strokeColor=#D6B656;" vertex="1" parent="1">
          <mxGeometry x="600" y="530" width="100" height="30" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>

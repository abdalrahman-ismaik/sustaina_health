graph TB
    subgraph "👤 User Layer"
        USER[👤 User]
    end
    
    subgraph "📱 Sustaina Health Flutter App"
        subgraph "🏠 Core Features"
            HOME[🏠 Home Dashboard]
            MCP_CHAT[💬 MCP Command Chat]
        end
        
        subgraph "🎯 Health Features"
            AUTH[🔐 Authentication]
            EXERCISE[💪 Exercise & Workouts]
            NUTRITION[🍎 Nutrition Tracking]
            SLEEP[😴 Sleep Monitoring]
            PROFILE[👤 User Profile]
        end
        
        subgraph "⚙️ App Infrastructure"
            STATE[🔧 Riverpod State Management]
            ROUTER[🧭 GoRouter Navigation]
            STORAGE[💾 Hybrid Storage]
        end
    end
    
    subgraph "☁️ Backend Services"
        subgraph "🤖 AI Services"
            FASTAPI[⚡ FastAPI Backend]
            MCP_SERVER[🧠 MCP Server]
            AI_WORKOUT[💪 Workout AI]
            AI_NUTRITION[🍎 Nutrition AI]
        end
        
        subgraph "📊 Data & Storage"
            FIREBASE_AUTH[🔐 Firebase Auth]
            FIRESTORE[📄 Cloud Firestore]
            FIREBASE_STORAGE[📁 Firebase Storage]
        end
    end
    
    USER --> HOME
    HOME --> MCP_CHAT
    HOME --> EXERCISE
    HOME --> NUTRITION
    HOME --> SLEEP
    
    MCP_CHAT --> MCP_SERVER
    EXERCISE --> AI_WORKOUT
    NUTRITION --> AI_NUTRITION
    
    AUTH --> FIREBASE_AUTH
    STORAGE --> FIRESTORE
    PROFILE --> FIREBASE_STORAGE
